Frontend:

Landing Page
About

Create Account
Login
Acct Info

Home Page
    Active contests
    Available contests
Contest Page
    Contest Phase
    Contest Scoring
    Team Sidebar
    Current Balance
    Leaderboard
    LiveInfo
        Games sidebar
        Main space
            Game info
            Player list

Backend:

DB
    User
        Active contests
            Balance
            Team members
            Offers
    Contest
        Season+week
        Rules
        Players

DB queries
    Get available contests
    Get user's...
        Acct info
        Joined contests (list of active teams)
        Team's...
            Balance
            Players
            Offers
    Get contest's...
        Players
        Player's...
            Offers
            Fixed Price
            Last Traded Price

>Open app
Show joined and available contests
    Get list of all active contests
        - contests where active == true
    Get list of joined contests
        - user entries -> filter by all active

>Click a joined contest (entry)
Show players on my team
    Get entry whose user == MYUSERID (or cached from before)
        If none, option to join
Show available players in a contest
    Get all players (name, pos, team, bestbuy, bestsell) + (weekpoints)

Queries and Polls

Which contests are active right now?
Which contests has the User joined?
Which players are available in a contest?
What was the last trade price for a player?
What are the current best offers for a player?
What are a player's current stats?
Which offers has a user made?
What is the user's current entry balance/team?
Who is winning in the contest right now?
What rank am I?
Submit offer?

CF's
    On offer submission
        Get other offers on player that match reqs
            .where buy == true/false
            .where price <=/>= this price
            .where filled == false
            .orderBy price(desc)
            .orderBy ts
            .limit 1
        If offer returned
            TRANSACT
                Get team A and balance B
                Does team A have player and balance B have points?
                    Remove player and add points
                    Add player and remove points
                    set new Lastbuy bestbuy and bestsell
                If not -> return error
        If no offer returned
            TRANSACT
                Add offer document
                set new bestbuy and bestsell

    Every N seconds - Leaderboard
        Get list of all active contests
            - contests where active == true
        Get all users
